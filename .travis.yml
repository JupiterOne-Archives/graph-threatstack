language: node_js
node_js:
  - '8'
  - '10'

notifications:
  email:
    on_success: never
    on_failure: always

script: yarn build

deploy:
  provider: npm
  email: npm@jupiterone.io
  api_key:
    secure: "xN2YU1E0D/EwMVRGz4TbvFg9wam9wFtkCFaKeq7a5oJQaY7LMkJInxBwNTVTXEUylaP8Bca2JJAWBlZeenpPG8QwsowCHTejqiF9/sWmJp5Ze4llWfiJNZeOYeox8tG8YFBX8Wn8CXOezFIjHB/YFGgQ8xJMDH/F9NN6jEjEYURiPpl8r5didJyHqekkfKaMCsdkvgDy+wUNy1w86DKbfPBJ9EaUVlI53ExbS0mlodG2bCprd2HDKrAqswGSLyZu3CkjSlaKWXXmJQCTtq8LLqiQfjLLqHXYuozTx4Ig1c2WRALFue+u3q/Vb6M+6DzbI24ltsVu/GsIDaZbQuOzQKANWt10umup2YiIJ1kV98FLeokG3jPyxrrKAL5BTENmob3bMYHdWCkyVmIbegNUqdHvPGl4/kjqu7F/XB+cyL1AhTr0ZDPKiu7dnNXotfYAxZyYRQXDI3Uivm3DIvRo1PcTWByAnaR1QKzVtfoP5zh0mCW2XStDBRQ2GnxO+LQqeHIieMDotNGRkm/4hCDGNGqFNk0Q0m3TX8spSf8rxbwVhfyBVyc/ry9n6yjeUVk1ei1F9HSsoR0sYL6RsPvxB7b4/QKHN4Vb+05SyGYAkOeOqPoSX5cov/tAFznpwfPo76FxlMZT48D7UyEoGJohR/r5c5hgbbSpiF4f8SWUFSU="
  skip_cleanup: true
  on:
    tags: true
    branch: master
    repo: JupiterOne/graph-threatstack
    node: '8'